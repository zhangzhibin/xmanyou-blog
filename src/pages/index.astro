---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
---

<Layout title="厦门暗游网络科技有限公司" description="影子工作室博客">
  <h1>厦门暗游网络科技有限公司</h1>
  <ul>
    {
      (await getCollection('blog', ({ data }) => !data.draft && data.type === 'post'))
        .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
        .slice(0, 20)
        .map((entry) => {
          const slug = (entry.data.slug || entry.id || '').replace(/\.mdx?$/, '');
          const primaryTag = entry.data.tags[0] ?? entry.data.tagSlugs?.[0] ?? '';
          const linkText = primaryTag ? `[${primaryTag} ${entry.data.title}]` : entry.data.title;
          return (
            <li>
              <a href={`/${slug}/`}>
                {linkText}
              </a>
            </li>
          );
        })
    }
  </ul>
  <p><a href="/blog/">View all posts →</a></p>
</Layout>
