---
title: "Unity导出Android Studio工程时如何避免工程覆盖"
description: "移除一行注释即可实现"
pubDate: 2020-02-28T09:39:12.000Z
author: "阿斌"
tags: ["开发笔记", "Unity", "android"]
tagSlugs: ["dev", "unity", "android"]
draft: false
type: post
slug: "unity-export-android-studio-without-overriding"
authorSlug: "dev"
---

<!--kg-card-begin: markdown--><h2 id="">问题背景</h2>
<p>有时候，我们需要用Unity导出Android Studio工程，然后进行定制化，比如添加一些插件的调用代码，最后再导出Apk。</p>
<p>但是，如果多次导出时，会发现，Unity把修改过的工程给覆盖了！</p>
<p>这可怎么办？</p>
<h2 id="">解决方法</h2>
<h3 id="">首先</h3>
<p>Unity不会删除我们自己添加的文件。</p>
<h3 id="">其次</h3>
<p>Unity只会覆盖自动生成的代码和资源文件，包含Gradle。</p>
<h3 id="">最后</h3>
<p>如果我们修改了Unity生成的文件，比如build.gradle，比如UnityPlayerActivity.java等，那么可以删除这些文件中以下注释，来防止Unity覆盖该文件：</p>
<pre><code>GENERATED BY UNITY. REMOVE THIS COMMENT TO PREVENT OVERWRITING WHEN EXPORTING AGAIN
</code></pre>
<p><img src="/content/images/2020/02/Unity_android_studio_export_override_01.png" alt="Unity_android_studio_export_override_01"></p>
<p>搜索以下，可以发现所有Unity生成的包含这个注释的文件有</p>
<ul>
<li>java</li>
<li>manifest</li>
<li>gradle</li>
</ul>
<p><img src="/content/images/2020/02/Unity_android_studio_export_override_02.png" alt="Unity_android_studio_export_override_02"></p>
<h2 id="">参考</h2>
<p><a href="https://forum.unity.com/threads/make-changes-to-android-studio-project-exported-from-unity.576154/">https://forum.unity.com/threads/make-changes-to-android-studio-project-exported-from-unity.576154/</a></p>
<!--kg-card-end: markdown-->